{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","components/Notification.js","components/Error.js","App.js","index.js"],"names":["Filter","searchTerm","handleSearch","searchResults","value","onChange","map","person","key","name","number","PersonForm","addPerson","newName","newNumber","handleNameChange","handleNumberChange","onSubmit","type","Persons","persons","handleDelete","onClick","id","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","Error","error","App","useState","setPersons","setNewName","setNewNumber","setSearchTerm","setSearchResults","addMessage","setAddMessage","setError","useEffect","personsService","initialPersons","personsFiltered","results","filter","toLowerCase","includes","event","target","preventDefault","personObject","some","window","alert","personToChange","find","changedPerson","returnedPersons","setTimeout","catch","concat","err","confirm","n","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.3169fd22.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ searchTerm, handleSearch, searchResults }) => {\r\n  return (\r\n    <div>\r\n     <p>filter shown with <input value={ searchTerm } onChange={ handleSearch }/></p>\r\n\t\t{ searchTerm ? \r\n\t\t    <ul>{ searchResults.map(person => <li key={ person.name }>{ person.name } {person.number }</li>)}</ul> :\r\n\t\t  <div></div> }\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Filter","import React from 'react'\r\n\r\nconst PersonForm = ({ addPerson, newName, newNumber, handleNameChange, handleNumberChange }) => {\r\n  return (\r\n    <div>\r\n      <form onSubmit={ addPerson }>\r\n        <div> name: <input value={ newName } onChange={ handleNameChange }/></div>\r\n\t\t<div>number: <input value={ newNumber } onChange={ handleNumberChange }/></div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default PersonForm","import React from 'react'\r\n\r\nconst Persons = ({ persons, handleDelete }) => {\r\n  return (\r\n    <div>\r\n      <ul>\r\n        {persons.map(person => \r\n\t\t<li key={ person.name }>{ person.name }  { person.number } <button onClick={() => handleDelete(person.id, person.name)}>delete</button></li>\r\n        )}\r\n      </ul>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Persons","import axios from 'axios'\r\nconst baseUrl = 'api/persons'\r\n\r\nconst getAll = () => {\r\n  const request = axios.get(baseUrl)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n  const request = axios.post(baseUrl, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst update = (id, newObject) => {\r\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n  return request.then(response => response.data)\r\n}\r\n\r\nconst remove = id => {\r\n  const request = axios.delete(`${baseUrl}/${id}`)\r\n  return request.then(response => response.data)\r\n}\r\n\r\n\r\nexport default { getAll, create, update, remove }","import React from 'react'\r\n\r\nconst Notification = ({ message }) => {\r\n  if (message === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"success\">\r\n      {message}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Notification","import React from 'react'\r\n\r\nconst Error = ({ error }) => {\r\n  if (error === null) {\r\n    return null\r\n  }\r\n  return (\r\n    <div className=\"error\">\r\n      {error}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Error","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personsService from './services/persons'\nimport Notification from './components/Notification'\nimport Error from './components/Error'\n\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ searchTerm, setSearchTerm ] = useState('')\n  const [ searchResults, setSearchResults ] = useState([])\n  const [ addMessage, setAddMessage ] = useState(null)\n  const [ error, setError ] = useState(null)\n  \n  useEffect(() => {\n    personsService\n\t.getAll()\n    .then(initialPersons => {\n      setPersons(initialPersons)\n    })\n}, [])\n  \n  const addPerson = (event, id) => {\n\t  event.preventDefault()\n\t  const personObject = {\n\t\tname: newName,\n\t\tnumber: newNumber,\n\t  }\n\t \n     if ( persons.some(person => person.name === newName) ){\n\t\twindow.alert(`${newName} is already added to phonebook, replace the old number with a new one?`)\n\t\t  const personToChange = persons.find(person => person.name === newName)\n\t\t  const changedPerson = {...personToChange, number: newNumber}\n          personsService\n\t\t   .update(changedPerson.id, changedPerson)\n\t\t    .then(returnedPersons => {\n              setPersons(persons.map(person => \n                person.id !== changedPerson.id\n                ? returnedPersons\n\t\t        : person))})\n\t\t\t\tsetAddMessage(`${newName}s number was sucessfully changed`)\n\t\t\tsetTimeout(() => {\n            setAddMessage(null)\n          }, 5000)\n            setNewName('')\n\t\t\tsetNewNumber('')\n\t\t\t\n\t\t\t\t.catch(() => {\n            setError(\n              `Information of ${changedPerson.name}  has already been removed from the server`\n            );\n          });\n\t\t\t\n\t}\n\t \n      else \t  \n\t      personsService\n\t\t  .create(personObject)\n          .then(returnedPersons => {\n            setPersons(persons.concat(returnedPersons))\n\t\t\tsetAddMessage(`${newName} was sucessfully added`)\n\t\t\tsetTimeout(() => {\n            setAddMessage(null)\n          }, 5000)\n            setNewName('')\n\t\t\tsetNewNumber('')\n       }).catch(err => {\n          setError(err.response.data.error)\n\t\t  setTimeout(() => {\n            setError(null)\n          }, 5000)\n        });\n\t   \n\t  \n  }\n  \n  \n  const handleNameChange = (event) => {\n\t  setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n\t  setNewNumber(event.target.value)\n  }\n  \n  const handleSearch = (event) => {\n\t  setSearchTerm(event.target.value)\n\t  personsFiltered()\n  }\n  \n  const personsFiltered = () => {\n\tconst results = persons.filter(person =>\n\tperson.name.toLowerCase().includes(searchTerm.toLowerCase())\n    )\n    setSearchResults(results)\n  }\n  \n  const handleDelete = (id, name) => {\n\tif(window.confirm(`Delete ${name}?`)){\n\t  personsService\n\t  .remove(id)\n\t  .then(() =>  {\n      setPersons(persons.filter(n => n.id !== id) )}\n\t  )\n\t}\n  }\n  \n  return (\n    <div>\n      <h2>Phonebook</h2>\n\t  <Notification message={addMessage} />\n\t  <Error error={error} />\n\t  <Filter searchTerm={ searchTerm } handleSearch={ handleSearch } searchResults={ searchResults } />\n\t  \n\t  <h2>add a new </h2>\n\t  <PersonForm addPerson={ addPerson } newName={ newName } newNumber={ newNumber } handleNameChange={ handleNameChange } handleNumberChange={ handleNumberChange }/>\n      \n      <h2>Numbers</h2>\n\t  <Persons persons={ persons } handleDelete={ handleDelete } />\n    </div>\n  )\n}\n\nexport default App\n\n\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}